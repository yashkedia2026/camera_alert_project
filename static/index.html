<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Camera Alert Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
  <header>
    <h1><i class="fas fa-video"></i> Camera Alert Dashboard</h1>
    <div class="header-buttons">
      <button class="btn refresh" onclick="location.reload()"><i class="fas fa-sync"></i> Refresh</button>
      <button class="btn clear" onclick="clearEvents()"><i class="fas fa-trash"></i> Clear All Events</button>
    </div>
  </header>

  <main>
    <!-- Live feed -->
    <section class="card full-width">
      <h2>Live Camera Feed</h2>
      <div class="feed-wrapper">
        <img id="liveFeed" src="/api/stream" alt="Live Camera Feed">
      </div>
    </section>

    <!-- Date filters -->
    <div class="filters-row">
      <label>From: <input type="date" id="filterStart"></label>
      <label>To:   <input type="date" id="filterEnd"></label>
      <button class="btn export" onclick="applyFilters()">Apply Filters</button>
    </div>

    <!-- Two columns: events / attendance -->
    <div class="two-column">
      <!-- Unknown‐face events -->
      <div class="column card log-card">
        <h3>Recent Activity</h3>
        <ul id="eventsList"></ul>
        <div class="export-btn-wrapper">
          <button class="btn export" onclick="exportEventsCSV()">
            <i class="fas fa-file-csv"></i> Export Events
          </button>
        </div>
      </div>

      <!-- Employee attendance -->
      <div class="column card log-card">
        <h3>Employee Attendance</h3>
        <table id="attendanceTable">
          <thead>
            <tr>
              <th>Employee</th>
              <th>Date</th>
              <th>First Seen</th>
              <th>Last Seen</th>
            </tr>
          </thead>
          <tbody id="attendanceBody"></tbody>
        </table>
        <div class="export-btn-wrapper">
          <button class="btn export" onclick="exportAttendance()">
            <i class="fas fa-file-excel"></i> Export Attendance
          </button>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <p>© 2025 Camera Alert System</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
